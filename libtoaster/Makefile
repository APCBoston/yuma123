# Makefile for libtoaster entire directory
#  
#   very top libtoaster directory

##################### LIBRARIES ########################
#
# DIRS:  
# This is an ordered list
# Put only the directories that build object files in the list

# make all targets
DIRS = src

SRC_INST=$(DESTDIR)$(PREFIX)/share/yuma/src/libtoaster

#################### PLATFORM DEFINITIONS ############
all: toasterall


################################ MAKE RULES #################################
#

clean: toasterclean

superclean: toastersuperclean

install: toasterinstall

toasterall:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) && cd ..;\
        done

toasterclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) clean && cd ..;\
        done

toastersuperclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) superclean && cd ..;\
        done

toasterinstall:
	for dir in $(DIRS); do\
          cd $$dir && $(MAKE) install && cd ..;\
        done
ifndef DEBIAN
	mkdir -p $(SRC_INST)
	mkdir -p $(SRC_INST)/src
	mkdir -p $(SRC_INST)/lib
	mkdir -p $(SRC_INST)/bin
	cp Makefile $(SRC_INST)
	cp src/*start $(SRC_INST)/src/
	cp src/*c $(SRC_INST)/src/
	cp src/*h $(SRC_INST)/src/
	cp src/Makefile $(SRC_INST)/src/
else
ifdef DEVELOPER
	mkdir -p $(SRC_INST)
	mkdir -p $(SRC_INST)/src
	mkdir -p $(SRC_INST)/lib
	mkdir -p $(SRC_INST)/bin
	cp Makefile $(SRC_INST)
	cp src/*start $(SRC_INST)/src/
	cp src/*c $(SRC_INST)/src/
	cp src/*h $(SRC_INST)/src/
	cp src/Makefile $(SRC_INST)/src/
endif
endif

.PHONY: all clean superclean install \
	toasterall toasterclean toastersuperclean toasterinstall 


# prevent the make program from choking on all the symbols
# that get generated from autogenerated make rules
.NOEXPORT:




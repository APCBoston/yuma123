# Makefile for NETCONF project
#  
# modules directory
#


############### SOURCE PROFILE ##############################

SUBDIR_NM=modules
SUBDIR_CPP=

############### TARGET PROFILE ##############################

# copy modules to /usr/share/yuma
TOP_INSTALL=$(DESTDIR)$(PREFIX)/share/yuma
INSTALL_TARGET=$(TOP_INSTALL)/modules

######################### MAKE RULES ######################

all: 

test:

ifdef SERVER
install:
	mkdir -p $(INSTALL_TARGET)
	mkdir -p $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/netconfd.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-mysession.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-interfaces.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-mysession.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-proc.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-system.yang $(INSTALL_TARGET)/netconfcentral
else
ifdef CLIENT
install:
	mkdir -p $(INSTALL_TARGET)
	mkdir -p $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yangcli.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yangdump.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yangdiff.yang $(INSTALL_TARGET)/netconfcentral
else
ifdef SHLIBS
install:
	mkdir -p $(INSTALL_TARGET)
	mkdir -p $(INSTALL_TARGET)/netconfcentral
	mkdir -p $(INSTALL_TARGET)/ietf
	mkdir -p $(INSTALL_TARGET)/yang
	mkdir -p $(INSTALL_TARGET)/test
	mkdir -p $(INSTALL_TARGET)/test/pass
	mkdir -p $(INSTALL_TARGET)/test/fail
	cp ietf/*.yang $(INSTALL_TARGET)/ietf
	cp yang/*.yang $(INSTALL_TARGET)/yang
	cp test/pass/*.yang $(INSTALL_TARGET)/test/pass
	cp test/fail/*.yang $(INSTALL_TARGET)/test/fail
	cp netconfcentral/toaster.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-nacm.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-app-common.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-ncx.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-types.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-xsd.yang $(INSTALL_TARGET)/netconfcentral
	cp netconfcentral/yuma-netconf.yang $(INSTALL_TARGET)/netconfcentral
else
ifdef DEVELOPER
install:
else
install:
	mkdir -p $(INSTALL_TARGET)
	mkdir -p $(INSTALL_TARGET)/netconfcentral
	mkdir -p $(INSTALL_TARGET)/ietf
	mkdir -p $(INSTALL_TARGET)/yang
	mkdir -p $(INSTALL_TARGET)/test
	mkdir -p $(INSTALL_TARGET)/test/pass
	mkdir -p $(INSTALL_TARGET)/test/fail
	cp ietf/*.yang $(INSTALL_TARGET)/ietf
	cp yang/*.yang $(INSTALL_TARGET)/yang
	cp test/pass/*.yang $(INSTALL_TARGET)/test/pass
	cp test/fail/*.yang $(INSTALL_TARGET)/test/fail
	cp netconfcentral/*.yang $(INSTALL_TARGET)/netconfcentral
endif
endif
endif
endif


clean-install:
	rm -rf $(INSTALL_TARGET)/*
	mkdir -p $(INSTALL_TARGET)
	mkdir -p $(INSTALL_TARGET)/ietf
	mkdir -p $(INSTALL_TARGET)/netconfcentral
	mkdir -p $(INSTALL_TARGET)/yang
	mkdir -p $(INSTALL_TARGET)/test
	mkdir -p $(INSTALL_TARGET)/test/pass
	mkdir -p $(INSTALL_TARGET)/test/fail
	cp ietf/*.yang $(INSTALL_TARGET)/ietf
	cp netconfcentral/*.yang $(INSTALL_TARGET)/netconfcentral
	cp yang/*.yang $(INSTALL_TARGET)/yang
	cp test/pass/*.yang $(INSTALL_TARGET)/test/pass
	cp test/fail/*.yang $(INSTALL_TARGET)/test/fail

.PHONY: clean-install

uninstall:
ifndef DEVELOPER
	rm -rf $(INSTALL_TARGET)
endif

clean:

superclean:

distclean: uninstall

# prevent the make program from choking on all the symbols
# that get generated from autogenerated make rules
.NOEXPORT:

# Makefile for NETCONF entire source directory
#  
#   src directory

##################### PROGRAMS ########################
APPS = subsys netconfd yangdump yangdiff yangcli

##################### LIBRARIES ########################
#
# DIRS:  
# This is an ordered list
# Put only the directories that build object files in the list

# make all targets
DIRS = agt agtinst mgr ncx $(APPS)

# make agent without other targets
AGTDIRS = agt agtinst ncx netconfd

JFLAG = -j3

#################### PLATFORM DEFINITIONS ############

all: treeall

include platform/platform.profile

################################ MAKE RULES #################################
#


depend: treedepend

clean: treeclean

superclean: treesuperclean

agent: treeagent

test: treetest

install: treeinstall

treeall:
	for i in $(DIRS) ; do cd $$i ; $(MAKE) $(JFLAG) all ; cd .. ; done

treedepend:
	for i in $(DIRS) ; do cd $$i ; $(MAKE) $(JFLAG) depend ; cd .. ; done

treetest:
	for i in $(DIRS) ; do cd $$i ; $(MAKE) $(JFLAG) test ; cd .. ; done

treeclean:
	for i in $(DIRS) ; do cd $$i ; $(MAKE) clean ; cd .. ; done

treesuperclean:
	for i in $(DIRS) ; do cd $$i ; $(MAKE) superclean ; cd .. ; done

treeinstall:
	for i in $(DIRS) ; do cd $$i ; $(MAKE) install ; cd .. ; done

treeagent:
	for i in $(AGTDIRS) ; do cd $$i ; $(MAKE) $(JFLAG) all ; cd .. ; done

# prevent the make program from choking on all the symbols
# that get generated from autogenerated make rules
.NOEXPORT:




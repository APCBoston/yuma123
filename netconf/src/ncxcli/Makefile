# Makefile for NETCONF Manager Application
#  
#   ncxcli directory

############### SOURCE PROFILE ##############################

SUBDIR_NM=ncxcli
SUBDIR_CPP=

############### TARGET PROFILE ##############################

TARGET=$(TBASE)/$(SUBDIR_NM)
BIN_INST=$(TBASE)/bin
REAL_INST=/usr/bin
PROG=ncxcli

##################### LIBRARIES ########################

# The order of these LIBS matters!
#
# If the linker can't find external symbols you know should
# be there and you get an Unresolved External error 
#   file foo : unresolved external to bar
# Then put the library that contains foo BEFORE the one
# that contains bar. 

## (LINUX
LIBS = 	-lmgr \
	-lncx \
	-L/usr/lib -lxml2 -lcurses \
	-L/usr/local/lib -lssh2 -ltecla

## MACODS
# LIBS = 	-lmgr \
#	-lncx \
#	-L/sw/lib -lxml2 -lcurses -lssh2 -ltecla



############################# MAKE RULES ##################
all: ncxcli


#################### PLATFORM DEFINITIONS ############
include ../platform/platform.profile

################ DEPENDENCIES #########################
# depend rule must be included after the 'all' make rule

include ../platform/platform.profile.depend


clean:
	rm -f $(OBJS) $(BIN_INST)/$(PROG)


superclean:
	rm -f *~ *.D dependencies $(OBJS) $(BIN_INST)/$(PROG)

test:


# needs to be done by root
install:
	install --owner=root --group=root $(BIN_INST)/$(PROG) $(REAL_INST)

# this real rule keeps make from deleting the $(OBJS) as
# intermediate files
ncxcli: $(OBJS)
	$(LINK) $(LFLAGS) $(OBJS) -o $(BIN_INST)/$(PROG) $(LPATH) $(LIBS)



# prevent the make program from choking on all the symbols
# that get generated from autogenerated make rules
.NOEXPORT:

include dependencies

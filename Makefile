# Makefile for Yuma entire project
#  
#   very top directory

##################### LIBRARIES ########################
#
# DIRS:  
# This is an ordered list
# Put only the directories that build object files in the list

# make all targets
DIRS = libtecla netconf libtoaster

ifdef DESTDIR
JFLAG= 
else
JFLAG = -j3
endif

#################### PLATFORM DEFINITIONS ############

all: yumaall

################################ MAKE RULES #################################
#

clean: yumaclean

superclean: yumasuperclean

install: yumainstall

yumaall:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) $(JFLAG) && cd ..;\
        done

yumaclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) clean && cd ..;\
        done

yumasuperclean:
	for dir in $(DIRS); do\
	  cd $$dir && $(MAKE) superclean && cd ..;\
        done

yumainstall:
	for dir in $(DIRS); do\
          cd $$dir && $(MAKE) install && cd ..;\
        done


.PHONY: all clean superclean install \
	yumaall yumaclean yumasuperclean yumainstall 


# prevent the make program from choking on all the symbols
# that get generated from autogenerated make rules
.NOEXPORT:




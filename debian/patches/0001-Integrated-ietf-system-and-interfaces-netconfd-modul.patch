From: Vladimir Vassilev <vladimir@transpacket.com>
Date: Mon, 1 Aug 2016 16:51:54 +0200
Subject: Integrated ietf system and interfaces netconfd module packages

---
 Makefile.am                                        |  2 ++
 configure.ac                                       |  2 ++
 example-modules/ietf-interfaces/Makefile.am        |  9 +++++--
 example-modules/ietf-interfaces/debian/changelog   |  5 ----
 example-modules/ietf-interfaces/debian/compat      |  1 -
 example-modules/ietf-interfaces/debian/control     | 18 --------------
 example-modules/ietf-interfaces/debian/copyright   | 28 ----------------------
 example-modules/ietf-interfaces/debian/rules       | 14 -----------
 .../ietf-interfaces/debian/source/format           |  1 -
 example-modules/ietf-system/Makefile.am            |  9 +++++--
 example-modules/ietf-system/debian/changelog       |  5 ----
 example-modules/ietf-system/debian/compat          |  1 -
 example-modules/ietf-system/debian/control         | 19 ---------------
 example-modules/ietf-system/debian/copyright       | 28 ----------------------
 example-modules/ietf-system/debian/rules           | 14 -----------
 example-modules/ietf-system/debian/source/format   |  1 -
 16 files changed, 18 insertions(+), 139 deletions(-)
 delete mode 100644 example-modules/ietf-interfaces/debian/changelog
 delete mode 100644 example-modules/ietf-interfaces/debian/compat
 delete mode 100644 example-modules/ietf-interfaces/debian/control
 delete mode 100644 example-modules/ietf-interfaces/debian/copyright
 delete mode 100755 example-modules/ietf-interfaces/debian/rules
 delete mode 100644 example-modules/ietf-interfaces/debian/source/format
 delete mode 100644 example-modules/ietf-system/debian/changelog
 delete mode 100644 example-modules/ietf-system/debian/compat
 delete mode 100644 example-modules/ietf-system/debian/control
 delete mode 100644 example-modules/ietf-system/debian/copyright
 delete mode 100755 example-modules/ietf-system/debian/rules
 delete mode 100644 example-modules/ietf-system/debian/source/format

diff --git a/Makefile.am b/Makefile.am
index d5a3a98..9473b60 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -9,6 +9,8 @@ netconf/src/yangcli \
 libtoaster/src \
 netconf/modules \
 example-modules/helloworld \
+example-modules/ietf-system \
+example-modules/ietf-interfaces \
 netconf/src/yangrpc \
 netconf/src/yangrpc/example \
 netconf/src/yangdump \
diff --git a/configure.ac b/configure.ac
index 0057431..1ae9ae2 100644
--- a/configure.ac
+++ b/configure.ac
@@ -79,6 +79,8 @@ AC_CONFIG_FILES([
         netconf/src/subsys/Makefile
         libtoaster/src/Makefile
         example-modules/helloworld/Makefile
+        example-modules/ietf-interfaces/Makefile
+        example-modules/ietf-system/Makefile
         netconf/src/yangrpc/Makefile
         netconf/src/yangrpc/example/Makefile
         netconf/src/yangdump/Makefile
diff --git a/example-modules/ietf-interfaces/Makefile.am b/example-modules/ietf-interfaces/Makefile.am
index a574867..357e7e8 100755
--- a/example-modules/ietf-interfaces/Makefile.am
+++ b/example-modules/ietf-interfaces/Makefile.am
@@ -3,7 +3,12 @@ netconfmodule_LTLIBRARIES = libietf-interfaces.la
 libietf_interfaces_la_SOURCES = \
 ietf-interfaces.c
 
-libietf_interfaces_la_CPPFLAGS = -I${includedir}/yuma/agt -I${includedir}/yuma/mgr -I${includedir}/yuma/ncx -I${includedir}/yuma/platform -I${includedir}/libxml2 -I${includedir}/libxml2/libxml
-libietf_interfaces_la_LDFLAGS = -module -lyumaagt -lyumancx -lxml2 -lz -ldl
+#Integrated yuma123 build
+libietf_interfaces_la_CPPFLAGS = -I $(top_srcdir)/netconf/src/ -I$(top_srcdir)/netconf/src/agt -I$(top_srcdir)/netconf/src/mgr -I$(top_srcdir)/netconf/src/ncx -I$(top_srcdir)/netconf/src/platform -I$(top_srcdir)/netconf/src/ydump -I${includedir}/libxml2 -I${includedir}/libxml2/libxml
+libietf_interfaces_la_LDFLAGS = -module $(top_builddir)/netconf/src/agt/libyumaagt.la $(top_builddir)/netconf/src/ncx/libyumancx.la -lxml2 -lz  -ldl
+
+#Standalone mode. Depends on installed libyuma-dev
+#libietf_interfaces_la_CPPFLAGS = -I${includedir}/yuma/agt -I${includedir}/yuma/mgr -I${includedir}/yuma/ncx -I${includedir}/yuma/platform -I${includedir}/libxml2 -I${includedir}/libxml2/libxml
+#libietf_interfaces_la_LDFLAGS = -module -lyumaagt -lyumancx -lxml2 -lz -ldl
 
 #yang_DATA = ietf-interfaces.yang
diff --git a/example-modules/ietf-interfaces/debian/changelog b/example-modules/ietf-interfaces/debian/changelog
deleted file mode 100644
index c93dc55..0000000
--- a/example-modules/ietf-interfaces/debian/changelog
+++ /dev/null
@@ -1,5 +0,0 @@
-yuma123-netconfd-module-ietf-interfaces (2.8-0) stable; urgency=low
-
-  * Unofficial package.
-
- -- Vladimir Vassilev <vladimir@transpacket.com>  Sun, 31 Jul 2016 15:44:13 +0200
diff --git a/example-modules/ietf-interfaces/debian/compat b/example-modules/ietf-interfaces/debian/compat
deleted file mode 100644
index ec63514..0000000
--- a/example-modules/ietf-interfaces/debian/compat
+++ /dev/null
@@ -1 +0,0 @@
-9
diff --git a/example-modules/ietf-interfaces/debian/control b/example-modules/ietf-interfaces/debian/control
deleted file mode 100644
index 7e93f1e..0000000
--- a/example-modules/ietf-interfaces/debian/control
+++ /dev/null
@@ -1,18 +0,0 @@
-Source: yuma123-netconfd-module-ietf-interfaces
-Section: net
-Priority: extra
-Maintainer: Vladimir Vassilev <vladimir@transpacket.com>
-Build-Depends: debhelper (>= 7), autoconf, dh-autoreconf, libncurses5-dev, libssh2-1-dev, libxml2-dev, libtool, libreadline-dev, zlib1g-dev, libssl-dev, libyuma-dev (>= 2.8)
-Standards-Version: 3.9.6
-Homepage: http://transpacket.com/
-
-Package: netconfd-module-ietf-interfaces
-Architecture: any
-Depends: ${shlibs:Depends}, ${misc:Depends}, debconf, lsb-base (>= 3.2-13), libyuma2 (>= 2.8)
-Description: SIL module for netconfd implementing ietf-interfaces.yang
- The Netconf protocol and YANG modeling language provide a framework
- for the exchange of management information between agents (servers)
- and clients.
- .
- The yuma123 netconfd module ietf-interfaces implements the functionality
- modeled in ietf-interfaces.yang using some common command line tools.
diff --git a/example-modules/ietf-interfaces/debian/copyright b/example-modules/ietf-interfaces/debian/copyright
deleted file mode 100644
index ed682fb..0000000
--- a/example-modules/ietf-interfaces/debian/copyright
+++ /dev/null
@@ -1,28 +0,0 @@
-Files: *
-Copyright: (C) 2016 Vladimir Vassilev <vladimir@transpacket.com>
-Copyright: (C) 2016 Transpacket AS <support@transpacket.com>
-License: BSD
-
-License: BSD
- Redistribution and use in source and binary forms, with or without
- modification, are permitted provided that the following conditions are met:
-    * Redistributions of source code must retain the above copyright
-      notice, this list of conditions and the following disclaimer.
-    * Redistributions in binary form must reproduce the above copyright
-      notice, this list of conditions and the following disclaimer in the
-      documentation and/or other materials provided with the distribution.
-    * Neither the name of the <organization> nor the
-      names of its contributors may be used to endorse or promote products
-      derived from this software without specific prior written permission.
-
- THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
- ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
- WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- DISCLAIMED. IN NO EVENT SHALL Andy Bierman BE LIABLE FOR ANY
- DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
- (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
- LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
- ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
- (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
- SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-
diff --git a/example-modules/ietf-interfaces/debian/rules b/example-modules/ietf-interfaces/debian/rules
deleted file mode 100755
index 9e11889..0000000
--- a/example-modules/ietf-interfaces/debian/rules
+++ /dev/null
@@ -1,14 +0,0 @@
-#!/usr/bin/make -f
-# -*- makefile -*-
-# Sample debian/rules that uses debhelper.
-# This file was originally written by Joey Hess and Craig Small.
-# As a special exception, when this file is copied by dh-make into a
-# dh-make output file, you may use that output file without restriction.
-# This special exception was added by Craig Small in version 0.37 of dh-make.
-
-# Uncomment this to turn on verbose mode.
-#export DH_VERBOSE=1
-
-%:
-	 dh $@  --with autotools-dev,autoreconf
-
diff --git a/example-modules/ietf-interfaces/debian/source/format b/example-modules/ietf-interfaces/debian/source/format
deleted file mode 100644
index 163aaf8..0000000
--- a/example-modules/ietf-interfaces/debian/source/format
+++ /dev/null
@@ -1 +0,0 @@
-3.0 (quilt)
diff --git a/example-modules/ietf-system/Makefile.am b/example-modules/ietf-system/Makefile.am
index ce0a2e8..cc62108 100755
--- a/example-modules/ietf-system/Makefile.am
+++ b/example-modules/ietf-system/Makefile.am
@@ -3,7 +3,12 @@ netconfmodule_LTLIBRARIES = libietf-system.la
 libietf_system_la_SOURCES = \
 ietf-system.c
 
-libietf_system_la_CPPFLAGS = -I${includedir}/yuma/agt -I${includedir}/yuma/mgr -I${includedir}/yuma/ncx -I${includedir}/yuma/platform -I${includedir}/libxml2 -I${includedir}/libxml2/libxml
-libietf_system_la_LDFLAGS = -module -lyumaagt -lyumancx -lxml2 -lz -ldl
+#Integrated yuma123 build
+libietf_system_la_CPPFLAGS = -I $(top_srcdir)/netconf/src/ -I$(top_srcdir)/netconf/src/agt -I$(top_srcdir)/netconf/src/mgr -I$(top_srcdir)/netconf/src/ncx -I$(top_srcdir)/netconf/src/platform -I$(top_srcdir)/netconf/src/ydump -I${includedir}/libxml2 -I${includedir}/libxml2/libxml
+libietf_system_la_LDFLAGS = -module $(top_builddir)/netconf/src/agt/libyumaagt.la $(top_builddir)/netconf/src/ncx/libyumancx.la -lxml2 -lz  -ldl
+
+#Standalone mode. Depends on installed libyuma-dev
+#libietf_system_la_CPPFLAGS = -I${includedir}/yuma/agt -I${includedir}/yuma/mgr -I${includedir}/yuma/ncx -I${includedir}/yuma/platform -I${includedir}/libxml2 -I${includedir}/libxml2/libxml
+#libietf_system_la_LDFLAGS = -module -lyumaagt -lyumancx -lxml2 -lz -ldl
 
 #yang_DATA = ietf-system.yang
diff --git a/example-modules/ietf-system/debian/changelog b/example-modules/ietf-system/debian/changelog
deleted file mode 100644
index 1655b7c..0000000
--- a/example-modules/ietf-system/debian/changelog
+++ /dev/null
@@ -1,5 +0,0 @@
-yuma123-netconfd-module-ietf-system (2.8-0) stable; urgency=low
-
-  * Unofficial package.
-
- -- Vladimir Vassilev <vladimir@transpacket.com>  Sun, 31 Jul 2016 15:43:29 +0200
diff --git a/example-modules/ietf-system/debian/compat b/example-modules/ietf-system/debian/compat
deleted file mode 100644
index ec63514..0000000
--- a/example-modules/ietf-system/debian/compat
+++ /dev/null
@@ -1 +0,0 @@
-9
diff --git a/example-modules/ietf-system/debian/control b/example-modules/ietf-system/debian/control
deleted file mode 100644
index beb0284..0000000
--- a/example-modules/ietf-system/debian/control
+++ /dev/null
@@ -1,19 +0,0 @@
-Source: yuma123-netconfd-module-ietf-system
-Section: net
-Priority: extra
-Maintainer: Vladimir Vassilev <vladimir@transpacket.com>
-Build-Depends: debhelper (>= 7), autoconf, dh-autoreconf, libncurses5-dev, libssh2-1-dev, libxml2-dev, libtool, libreadline-dev, zlib1g-dev, libssl-dev, libyuma-dev (>= 2.8)
-Standards-Version: 3.9.6
-Homepage: http://transpacket.com/
-
-Package: netconfd-module-ietf-system
-Architecture: any
-Depends: ${shlibs:Depends}, ${misc:Depends}, debconf, lsb-base (>= 3.2-13), libyuma2 (>= 2.8)
-Description: SIL module for netconfd implementing ietf-system.yang
- The Netconf protocol and YANG modeling language provide a framework
- for the exchange of management information between agents (servers)
- and clients.
- .
- The yuma123 netconfd module ietf-interfaces implements the functionality
- modeled in ietf-system.yang using some common command line tools.
-
diff --git a/example-modules/ietf-system/debian/copyright b/example-modules/ietf-system/debian/copyright
deleted file mode 100644
index ed682fb..0000000
--- a/example-modules/ietf-system/debian/copyright
+++ /dev/null
@@ -1,28 +0,0 @@
-Files: *
-Copyright: (C) 2016 Vladimir Vassilev <vladimir@transpacket.com>
-Copyright: (C) 2016 Transpacket AS <support@transpacket.com>
-License: BSD
-
-License: BSD
- Redistribution and use in source and binary forms, with or without
- modification, are permitted provided that the following conditions are met:
-    * Redistributions of source code must retain the above copyright
-      notice, this list of conditions and the following disclaimer.
-    * Redistributions in binary form must reproduce the above copyright
-      notice, this list of conditions and the following disclaimer in the
-      documentation and/or other materials provided with the distribution.
-    * Neither the name of the <organization> nor the
-      names of its contributors may be used to endorse or promote products
-      derived from this software without specific prior written permission.
-
- THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
- ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
- WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
- DISCLAIMED. IN NO EVENT SHALL Andy Bierman BE LIABLE FOR ANY
- DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
- (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
- LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
- ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
- (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
- SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-
diff --git a/example-modules/ietf-system/debian/rules b/example-modules/ietf-system/debian/rules
deleted file mode 100755
index 9e11889..0000000
--- a/example-modules/ietf-system/debian/rules
+++ /dev/null
@@ -1,14 +0,0 @@
-#!/usr/bin/make -f
-# -*- makefile -*-
-# Sample debian/rules that uses debhelper.
-# This file was originally written by Joey Hess and Craig Small.
-# As a special exception, when this file is copied by dh-make into a
-# dh-make output file, you may use that output file without restriction.
-# This special exception was added by Craig Small in version 0.37 of dh-make.
-
-# Uncomment this to turn on verbose mode.
-#export DH_VERBOSE=1
-
-%:
-	 dh $@  --with autotools-dev,autoreconf
-
diff --git a/example-modules/ietf-system/debian/source/format b/example-modules/ietf-system/debian/source/format
deleted file mode 100644
index 163aaf8..0000000
--- a/example-modules/ietf-system/debian/source/format
+++ /dev/null
@@ -1 +0,0 @@
-3.0 (quilt)
